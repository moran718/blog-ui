<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->

    <!-- 看板娘 Live2D Widget -->
    <script>
      // 延迟加载看板娘，避免阻塞页面
      window.addEventListener('load', function() {
        var script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js';
        script.onerror = function() {
          console.log('看板娘加载失败，尝试备用地址...');
          var backupScript = document.createElement('script');
          backupScript.src = 'https://unpkg.com/live2d-widget@3.1.4/lib/L2Dwidget.min.js';
          backupScript.onload = function() {
            L2Dwidget.init({
              model: { jsonPath: 'https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json' },
              display: { position: 'left', width: 150, height: 300 },
              mobile: { show: false }
            });
          };
          document.body.appendChild(backupScript);
        };
        document.body.appendChild(script);
      });
    </script>
  </body>
</html>
